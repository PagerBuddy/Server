<!DOCTYPE html>
<html lang="en">
<head>
    
    <meta charset="utf-8">
    <title>Home - Documentation</title>
    
    
    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc.css">
    <script src="scripts/nav.js" defer></script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav >
    
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="Config_Config.html">Config</a></li><li><a href="database_database.html">database</a></li><li><a href="module.exports_module.exports.html">exports</a></li></ul><h3>Modules</h3><ul><li><a href="module-backup.html">backup</a><ul class='methods'><li data-type='method'><a href="module-backup.html#~copy_db">copy_db</a></li><li data-type='method'><a href="module-backup.html#~get_current_timestamp">get_current_timestamp</a></li></ul></li><li><a href="module-health.html">health</a><ul class='methods'><li data-type='method'><a href="module-health.html#.get_health_report">get_health_report</a></li><li data-type='method'><a href="module-health.html#.get_time_offset">get_time_offset</a></li><li data-type='method'><a href="module-health.html#.init">init</a></li><li data-type='method'><a href="module-health.html#.radio_activity">radio_activity</a></li><li data-type='method'><a href="module-health.html#.report_health">report_health</a></li><li data-type='method'><a href="module-health.html#.telegram_status">telegram_status</a></li></ul></li><li><a href="module-logging.html">logging</a><ul class='methods'><li data-type='method'><a href="module-logging.html#.connect_telegram_transport">connect_telegram_transport</a></li><li data-type='method'><a href="module-logging.html#.set_logging_level">set_logging_level</a></li></ul></li><li><a href="module-messaging.html">messaging</a><ul class='methods'><li data-type='method'><a href="module-messaging.html#.heartbeatProbe">heartbeatProbe</a></li><li data-type='method'><a href="module-messaging.html#.init">init</a></li><li data-type='method'><a href="module-messaging.html#.sendAlert">sendAlert</a></li><li data-type='method'><a href="module-messaging.html#.sendTest">sendTest</a></li><li data-type='method'><a href="module-messaging.html#~getAccessToken">getAccessToken</a></li><li data-type='method'><a href="module-messaging.html#~getFCMJSON">getFCMJSON</a></li><li data-type='method'><a href="module-messaging.html#~sendFcmMessages">sendFcmMessages</a></li></ul></li><li><a href="module-server.html">server</a><ul class='methods'><li data-type='method'><a href="module-server.html#.queue_alarm">queue_alarm</a></li><li data-type='method'><a href="module-server.html#.start">start</a></li><li data-type='method'><a href="module-server.html#.stop">stop</a></li><li data-type='method'><a href="module-server.html#~alarm">alarm</a></li><li data-type='method'><a href="module-server.html#~queue_katsys">queue_katsys</a></li><li data-type='method'><a href="module-server.html#~run_queue">run_queue</a></li><li data-type='method'><a href="module-server.html#~setup_cleaner">setup_cleaner</a></li><li data-type='method'><a href="module-server.html#~step_alarms">step_alarms</a></li></ul></li><li><a href="module-websocket.html">websocket</a><ul class='methods'><li data-type='method'><a href="module-websocket.html#.init">init</a></li><li data-type='method'><a href="module-websocket.html#.start_listening">start_listening</a></li></ul></li></ul><h3>Global</h3><ul><li><a href="global.html#create_database">create_database</a></li><li><a href="global.html#levelToZVEI">levelToZVEI</a></li></ul>
</nav>

<div id="main">
    

    



    


    <section class="package">
        <h3> </h3>		
    </section>









    



    <section class="readme usertext">
        <article><h1>PagerBuddy-Server <a href="https://github.com/PagerBuddy/Server/actions/workflows/run_tests.yml"><img src="https://github.com/PagerBuddy/Server/actions/workflows/run_tests.yml/badge.svg" alt="Run Jest Tests"></a> <a href="https://github.com/PagerBuddy/Server/actions/workflows/tsc.yml"><img src="https://github.com/PagerBuddy/Server/actions/workflows/tsc.yml/badge.svg" alt="Compile TypeScript"></a></h1>
<p>PagerBuddy is an open source project to propagate alerts for members of emergency services (firebrigades, medical, catastrophe response, ...). The project consists of three components: &quot;<a href="https://github.com/PagerBuddy/Interface">Interfaces</a>&quot; forward incoming external alerts (e.g. from a physical pager) or generated alerts to the server. The &quot;server&quot; handles incoming information from many different interfaces, aggregates alerts and sends notifications to users (currently supporting Telegram and PagerBuddy-App). Users can optionally install the &quot;<a href="https://github.com/PagerBuddy/App">app</a>&quot; to be notified in an urgent manner about alerts on their smartphone.</p>
<p>This repo is for the &quot;server&quot; component.</p>
<p>Currently supported:</p>
<ul>
<li>Incoming alerts: Websocket, <a href="https://www.fuf-frey.de/katsys/">KatSys</a></li>
<li>PagerBuddy administration: <a href="https://telegram.org/">Telegram</a> (through bot commands and inline actions)</li>
<li>Outgoing alerts: <a href="https://firebase.google.com/docs/cloud-messaging">Firebase Cloud Messaging</a> (FCM), <a href="https://developer.apple.com/documentation/usernotifications">Apple Push Notification service</a> (routed through FCM), Telegram</li>
</ul>
<h2>Installation</h2>
<ol>
<li>
<p>Install Node.js (<a href="https://nodejs.org/en/download/">download installer</a>, <a href="https://nodejs.org/en/download/package-manager/">use package manager</a>)</p>
</li>
<li>
<p>Clone this repository (if you have <a href="https://git-scm.com/downloads">git</a>)</p>
<pre class="prettyprint source"><code>git clone https://github.com/PagerBuddy/Server.git
</code></pre>
<p>or <a href="https://github.com/PagerBuddy/Server/releases/latest">download release</a> and unpack to a location of your choice</p>
</li>
<li>
<p>Create a config.json with your settings (or edit <a href="https://github.com/PagerBuddy/Server/blob/main/config-template.json">config-template.json</a> and save as config.json)</p>
<p>Required parameters (have a look in the <a href="https://github.com/PagerBuddy/Server/wiki/Configuration">wiki</a> for detailed descriptions and advice):</p>
<ul>
<li>DATABASE_LOCATION</li>
<li>TELEGRAM
<ul>
<li>BOT_TOKEN and BOT_NAME</li>
<li>ADMIN_GROUPS</li>
</ul>
</li>
<li>ALERT_TIME_ZONE</li>
</ul>
<p>All other parameters are optional and only have to be set if you want to use that functionality.</p>
</li>
<li>
<p>Install dependencies</p>
<pre class="prettyprint source"><code>sudo npm install
</code></pre>
<p>On linux systems, it is possible to install PagerBuddy as a systemd service via <code>npm run installservice</code> (you will be asked to enter your root password). The service will be enabled, but not automatically started. You can do so via <code>npm run startservice</code>. Some useful commands when working with the service are</p>
<pre class="prettyprint source"><code>npm run startservice // start the service
npm run stopservice // stop the service
npm run uninstallservice // stops and removes the service
journalctl -f -u pagerbuddy // View the service log, updating live
</code></pre>
</li>
<li>
<p>You are good to go. If you are not using the service you can start the server with</p>
<pre class="prettyprint source"><code>npm start
</code></pre>
</li>
</ol>
<h2>Documentation</h2>
<p>Checkout the <a href="https://github.com/PagerBuddy/Server/wiki">wiki</a> for concepts an general usage information. We are constantly extending the wiki content.<br>
Look <a href="https://pagerbuddy.github.io/Server/">here</a> for a compiled version of the code markup.</p>
<h2>Apps</h2>
<p>Currently the apps for iOS and Android can only be used with the &quot;original&quot; server instance. This will change very soon - making the app usable for any server operator. You will however have to operate a FCM project for your server (free). Until then have a look at the apps:</p>
<ul>
<li>Android: <a href="https://play.google.com/store/apps/details?id=de.bartunik.pagerbuddy&amp;hl=en&amp;gl=US">PlayStore</a></li>
<li>iOS: <a href="https://apps.apple.com/us/app/pagerbuddy/id1607587265">App Store</a></li>
</ul>
<h2>Legal</h2>
<p>It may not be legal to forward messages/alerts to people that are not intended recipients in your location (e.g. Germany). It is your responsibility to ensure you only use PagerBuddy in a legal way!</p></article>
    </section>






    
    
</div>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.6.7</a> on Tue Sep 20 2022 07:40:00 GMT+0000 (Coordinated Universal Time) using the <a href="https://github.com/clenemt/docdash">docdash</a> theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/polyfill.js"></script>
<script src="scripts/linenumber.js"></script>



</body>
</html>